(()=>{const e=[[1,"Новый год"],[7,"Рождество"]],t=[[23,"День защитника отечества"]],n=[[8,"Международный женский день"]],d=[],l=[[1,"День международной солидарности трудящихся"],[9,"День победы"]],a=[[12,"День России"]],o=[],i=[],r=[[1,"День знаний"]],c=[],m=[[4,"День народного единства"]],g=[];function u(u,s){document.getElementById("all-calendar").setAttribute("commutator","1");const I=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],y=new Date(u,s,0).getDate();let E=new Date(u,s,1).getDate();const B=new Date(u,s+1,0).getDate();let w=new Date(u,s,1).getDay();const b=(new Date).getDate(),h=[e,t,n,d,l,a,o,i,r,c,m,g];document.getElementById("month-year").innerHTML=`<p>${["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"][s]} ${u}</p>`,document.getElementById("digit").classList.remove("grid-4"),document.getElementById("digit").classList.add("grid-7"),document.getElementById("digit").innerHTML="",document.getElementById("week").innerHTML="",document.getElementById("arrow-left").innerHTML="&#171;",document.getElementById("arrow-right").innerHTML="&#187;";const v=I.length;for(let e=0;e<v;e++)document.getElementById("week").innerHTML+=`<div class="week-cell">${I[e]}</div>`;let A=1;w-=2,w<0&&(w=5);for(let e=0;e<42;e++){if(w>=0)document.getElementById("digit").innerHTML+=`<div class="number-cell">${y-w}</div>`,w-=1;else if(E!==B+1){document.getElementById("digit").innerHTML+=`<div class="number-cell">${E}</div>`,E===b&&s===(new Date).getMonth()&&u===(new Date).getFullYear()&&document.getElementById("digit").childNodes[e].classList.add("today-day");const t=h[s].length;for(let n=0;n<t;n++)E===h[s][n][0]&&(document.getElementById("digit").childNodes[e].classList.add("color-red"),document.getElementById("digit").childNodes[e].title=h[s][n][1]);E+=1}else document.getElementById("digit").innerHTML+=`<div class="number-cell">${A}</div>`,A+=1;(e+1)%7!=0&&(e+2)%7!=0||(document.getElementById("digit").childNodes[e].style.color="red")}}function s(e){document.getElementById("all-calendar").setAttribute("commutator","2");const t=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"];document.getElementById("digit").innerHTML="",document.getElementById("month-year").innerHTML="",document.getElementById("week").innerHTML="",document.getElementById("arrow-left").innerHTML="",document.getElementById("arrow-right").innerHTML="",document.getElementById("month-year").innerHTML=parseInt(e,10),document.getElementById("digit").classList.remove("grid-7"),document.getElementById("digit").classList.add("grid-4");for(let n=0;n<12;n++)document.getElementById("digit").innerHTML+=`<div class="module-month">${t[n]}</div>`,document.getElementById("digit").childNodes[n].setAttribute("nowMonth",n),n===(new Date).getMonth()&&e===(new Date).getFullYear()?document.getElementById("digit").childNodes[n].classList.add("now-month"):document.getElementById("digit").childNodes[n].classList.remove("now-month")}function I(){const e=parseInt(document.getElementById("all-calendar").getAttribute("commutator"),10);if(1===e){const e=parseInt(document.getElementById("all-calendar").getAttribute("nowMonth"),10);let t=parseInt(document.getElementById("all-calendar").getAttribute("nowYear"),10);t-=1,document.getElementById("all-calendar").setAttribute("nowYear",t),u(t,e)}else if(2===e){let e=parseInt(document.getElementById("all-calendar").getAttribute("nowYear"),10);e-=1,document.getElementById("all-calendar").setAttribute("nowYear",e),s(e)}}function y(){if(1===parseInt(document.getElementById("all-calendar").getAttribute("commutator"),10)){let e=parseInt(document.getElementById("all-calendar").getAttribute("nowMonth"),10),t=parseInt(document.getElementById("all-calendar").getAttribute("nowYear"),10);e-=1,document.getElementById("all-calendar").setAttribute("nowMonth",e),e<0?(t-=1,document.getElementById("all-calendar").setAttribute("nowYear",t),e+=12,document.getElementById("all-calendar").setAttribute("nowMonth",e),u(t,e)):u(t,e)}}function E(){const e=parseInt(document.getElementById("all-calendar").getAttribute("commutator"),10);if(1===e){const e=parseInt(document.getElementById("all-calendar").getAttribute("nowMonth"),10);let t=parseInt(document.getElementById("all-calendar").getAttribute("nowYear"),10);t+=1,document.getElementById("all-calendar").setAttribute("nowYear",t),u(t,e)}else if(2===e){let e=parseInt(document.getElementById("all-calendar").getAttribute("nowYear"),10);e+=1,document.getElementById("all-calendar").setAttribute("nowYear",e),s(e)}}function B(){if(1===parseInt(document.getElementById("all-calendar").getAttribute("commutator"),10)){let e=parseInt(document.getElementById("all-calendar").getAttribute("nowMonth"),10),t=parseInt(document.getElementById("all-calendar").getAttribute("nowYear"),10);e+=1,document.getElementById("all-calendar").setAttribute("nowMonth",e),e>11?(t+=1,document.getElementById("all-calendar").setAttribute("nowYear",t),e-=12,document.getElementById("all-calendar").setAttribute("nowMonth",e),u(t,e)):u(t,e)}}function w(e,t){let n=parseInt(document.getElementById("all-calendar").getAttribute("commutator"),10);n--,1===n?u(e,t):2===n&&(s(e),document.getElementById("all-calendar").setAttribute("nowYear",e))}function b(){const e=(new Date).getMonth();u((new Date).getFullYear(),e)}window.onload=()=>{!function(){const e=new Date,t=e.getMonth(),n=e.getFullYear();document.getElementById("all-calendar").innerHTML='<div id="panel">\n    <div id="in-left">&#9668;</div>\n    <div id="arrow-left">&#171;</div>\n    <div id="month-year"></div>\n    <div id="arrow-right">&#187;</div>\n    <div id="in-right">&#9658;</div>\n    <div id="comeback" title="Обновить">&#9773;</div>\n  </div>\n  <div id="boxDelimiter"></div>\n  <div id="week"></div>\n  <div id="digit"></div>',document.getElementById("all-calendar").setAttribute("nowMonth",t),document.getElementById("all-calendar").setAttribute("nowYear",n),document.getElementById("in-left").addEventListener("click",I,!1),document.getElementById("arrow-left").addEventListener("click",y,!1),document.getElementById("month-year").addEventListener("click",(()=>{const e=parseInt(document.getElementById("all-calendar").getAttribute("nowMonth"),10);!function(e,t){let n=parseInt(document.getElementById("all-calendar").getAttribute("commutator"),10);n++,1===n?u(e,t):2===n&&s(e)}(parseInt(document.getElementById("all-calendar").getAttribute("nowYear"),10),e)}),!1),document.getElementById("digit").addEventListener("click",(e=>{if(2===parseInt(document.getElementById("all-calendar").getAttribute("commutator"),10)){const t=parseInt(e.target.getAttribute("nowMonth"),10);w(parseInt(document.getElementById("all-calendar").getAttribute("nowYear"),10),t)}else{const t=parseInt(document.getElementById("all-calendar").getAttribute("nowMonth"),10);w(parseInt(e.target.innerHTML,10),t)}}),!1),document.getElementById("arrow-right").addEventListener("click",B,!1),document.getElementById("in-right").addEventListener("click",E,!1),document.getElementById("comeback").addEventListener("click",b,!1),u(n,t),document.getElementById("week").classList.add("grid-7"),document.getElementById("digit").classList.add("grid-7"),document.getElementById("all-calendar").setAttribute("commutator","1")}()}})();